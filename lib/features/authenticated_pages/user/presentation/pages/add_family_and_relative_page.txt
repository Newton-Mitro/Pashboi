import 'package:flutter/material.dart';
import 'package:font_awesome_flutter/font_awesome_flutter.dart';

import 'package:pashboi/core/extensions/app_context.dart';
import 'package:pashboi/shared/widgets/app_text_input.dart';
import 'package:pashboi/shared/widgets/buttons/app_primary_button.dart';
import 'package:pashboi/shared/widgets/page_container.dart';
import 'package:pashboi/ui/new_widget/app_droupdown_input.dart';
import 'package:pashboi/ui/new_widget/app_search_input.dart';

class AddFamilyAndRelatives extends StatefulWidget {
  const AddFamilyAndRelatives({super.key});

  @override
  State<AddFamilyAndRelatives> createState() => _AddFamilyAndRelativesState();
}

class _AddFamilyAndRelativesState extends State<AddFamilyAndRelatives> {
  final TextEditingController _accountHolderController =
      TextEditingController();
  final TextEditingController _accountSearchController =
      TextEditingController();
  final TextEditingController _dropdownController = TextEditingController();

  @override
  Widget build(BuildContext context) {
    final theme = context.theme;

    return Scaffold(
      appBar: AppBar(
        title: Row(
          mainAxisAlignment: MainAxisAlignment.spaceBetween,
          children: [
            const Text(
              'Add Family and Relatives',
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
            ),
            Icon(
              FontAwesomeIcons.house,
              size: 20,
              color: theme.colorScheme.onSecondary,
            ),
          ],
        ),
      ),
      body: PageContainer(
        child: Padding(
          padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 24),
          child: Column(
            children: [
              Container(
                width: double.infinity,
                padding: const EdgeInsets.symmetric(
                  vertical: 20,
                  horizontal: 10,
                ),
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(5),
                  border: Border.all(color: theme.colorScheme.secondary),
                ),
                child: Column(
                  children: [
                    Icon(
                      FontAwesomeIcons.users,
                      size: 40,
                      color: theme.colorScheme.onSurface,
                    ),
                    const SizedBox(height: 4),
                    const Align(
                      alignment: Alignment.center,
                      child: Text(
                        "Add Account",
                        style: TextStyle(
                          fontSize: 18,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                    ),
                    const SizedBox(height: 45),
                    AppSearchInput(
                      controller: _accountSearchController,
                      label: "Search Account",
                      prefixIcon: Icon(
                        Icons.person,
                        color: theme.colorScheme.onSurface,
                      ),
                    ),
                    const SizedBox(height: 16),
                    AppTextInput(
                      controller: _accountHolderController,
                      label: "Account Holder Name",
                      prefixIcon: Icon(
                        Icons.person,
                        color: theme.colorScheme.onSurface,
                      ),
                    ),
                    const SizedBox(height: 16),
                    AppDropdownInput(
                      controller: _dropdownController,
                      label: "Select Account Type",
                      items: const ["Savings", "Current", "Business"],
                      prefixIcon: Icon(
                        Icons.account_balance,
                        color: theme.colorScheme.onSurface,
                      ),
                    ),
                    const SizedBox(height: 16),
                    AppPrimaryButton(
                      iconBefore: const Icon(Icons.person_add),
                      label: "Add Person",
                      onPressed: () {
                        // TODO: Implement add person action
                      },
                    ),
                  ],
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
}

